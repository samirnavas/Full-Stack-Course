
> bloglist@1.0.0 test
> cross-env NODE_ENV=test node --test

TAP version 13
# [dotenv@17.3.1] injecting env (3) from .env -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com
# connecting to mongodb+srv://samirnavas:Samirnavas8355@bandb-cluster.3zkxjhf.mongodb.net/testBlogList?appName=BandB-Cluster
# connected to MongoDB
# Method: GET
# Path:   /api/blogs
# Body:   undefined
# ---
# Subtest: when there is initially some blogs saved
    # Subtest: blogs are returned as json
    ok 1 - blogs are returned as json
      ---
      duration_ms: 1284.4837
      type: 'test'
      ...
# Method: GET
# Path:   /api/blogs
# Body:   undefined
# ---
    # Subtest: all blogs are returned
    ok 2 - all blogs are returned
      ---
      duration_ms: 127.0232
      type: 'test'
      ...
# Method: GET
# Path:   /api/blogs
# Body:   undefined
# ---
    # Subtest: the unique identifier property of the blog posts is named id
    ok 3 - the unique identifier property of the blog posts is named id
      ---
      duration_ms: 127.1407
      type: 'test'
      ...
    1..3
ok 1 - when there is initially some blogs saved
  ---
  duration_ms: 1539.5124
  type: 'suite'
  ...
# Method: POST
# Path:   /api/blogs
# Body:   {
#   title: 'Canonical string reduction',
#   author: 'Edsger W. Dijkstra',
#   url: 'http://www.cs.utexas.edu/~EWD/transcriptions/EWD08xx/EWD808.html',
#   likes: 12
# }
# ---
# Method: GET
# Path:   /api/blogs
# Body:   undefined
# ---
# Subtest: addition of a new blog
    # Subtest: a valid blog can be added
    ok 1 - a valid blog can be added
      ---
      duration_ms: 190.183
      type: 'test'
      ...
# Method: POST
# Path:   /api/blogs
# Body:   {
#   title: 'First class tests',
#   author: 'Robert C. Martin',
#   url: 'http://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.htmll'
# }
# ---
    # Subtest: if likes property is missing from the request, it defaults to 0
    ok 2 - if likes property is missing from the request, it defaults to 0
      ---
      duration_ms: 132.2328
      type: 'test'
      ...
# Method: POST
# Path:   /api/blogs
# Body:   {
#   author: 'Robert C. Martin',
#   url: 'http://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.htmll',
#   likes: 10
# }
# ---
# Blog validation failed: title: Path `title` is required.
    # Subtest: if title is missing, response is 400 Bad Request
    ok 3 - if title is missing, response is 400 Bad Request
      ---
      duration_ms: 95.2713
      type: 'test'
      ...
# Method: POST
# Path:   /api/blogs
# Body:   {
#   title: 'TDD harms architecture',
#   author: 'Robert C. Martin',
#   likes: 10
# }
# ---
# Blog validation failed: url: Path `url` is required.
    # Subtest: if url is missing, response is 400 Bad Request
    ok 4 - if url is missing, response is 400 Bad Request
      ---
      duration_ms: 90.6048
      type: 'test'
      ...
    1..4
ok 2 - addition of a new blog
  ---
  duration_ms: 508.8077
  type: 'suite'
  ...
# Subtest: dummy returns one
ok 3 - dummy returns one
  ---
  duration_ms: 1.1149
  type: 'test'
  ...
# Subtest: total likes
    # Subtest: when list has only one blog, equals the likes of that
    ok 1 - when list has only one blog, equals the likes of that
      ---
      duration_ms: 0.1933
      type: 'test'
      ...
    # Subtest: when list has multiple blogs, equals the sum of likes
    ok 2 - when list has multiple blogs, equals the sum of likes
      ---
      duration_ms: 0.1734
      type: 'test'
      ...
    # Subtest: when list is empty, equals zero
    ok 3 - when list is empty, equals zero
      ---
      duration_ms: 0.0856
      type: 'test'
      ...
    1..3
ok 4 - total likes
  ---
  duration_ms: 0.7336
  type: 'suite'
  ...
# Subtest: favorite blog
    # Subtest: returns the blog with the most likes
    ok 1 - returns the blog with the most likes
      ---
      duration_ms: 0.7312
      type: 'test'
      ...
    # Subtest: returns null for empty list
    ok 2 - returns null for empty list
      ---
      duration_ms: 0.0915
      type: 'test'
      ...
    1..2
ok 5 - favorite blog
  ---
  duration_ms: 1.0457
  type: 'suite'
  ...
# Subtest: most blogs
    # Subtest: returns the author with the most blogs
    ok 1 - returns the author with the most blogs
      ---
      duration_ms: 0.4642
      type: 'test'
      ...
    # Subtest: returns null for empty list
    ok 2 - returns null for empty list
      ---
      duration_ms: 0.1625
      type: 'test'
      ...
    1..2
ok 6 - most blogs
  ---
  duration_ms: 1.3462
  type: 'suite'
  ...
# Subtest: most likes
    # Subtest: returns the author with the most likes
    ok 1 - returns the author with the most likes
      ---
      duration_ms: 0.6289
      type: 'test'
      ...
    # Subtest: returns null for empty list
    ok 2 - returns null for empty list
      ---
      duration_ms: 0.2156
      type: 'test'
      ...
    1..2
ok 7 - most likes
  ---
  duration_ms: 0.9245
  type: 'suite'
  ...
1..7
# tests 17
# suites 6
# pass 17
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 2607.0187
